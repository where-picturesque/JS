<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			* {
				margin: 0;
				padding: 0;
			}
			
			#container {
				position: relative;
				width: 480px;
				height: 320px;
				overflow: hidden;
				margin: 0 auto;
			}
			
			#img {
				width: 2400px;
				height: 320px;
				display: flex;
				position: absolute;
				left: -480px;
				z-index=-1
			}
			
			#img li {
				list-style: none;
				width: 480px;
			}
			
			#img li img {
				width: 480px;
				height: 320px;
			}
			
			p {
				position: absolute;
				z-index:2;
				width: 20px;
				height: 30px;
				font-size:20px;
			}
			
		
			
			#prev {
				left: 0;
				top: 160px;
			}
			
			#next {
				right: 0;
				top: 160px;
			}
			
			#change {
				width: 200px;
				height: 50px;
				display: flex;
				justify-content: center;
				position: absolute;
				top:300px;
				left:0;
				right:0;
				z-index: 3;
				margin:0 auto;
			}
			
			#change li {
				list-style:none;
				width: 8px;
				height: 8px;
				border-radius: 50%;
				border: 1px solid #000;
				background:#fff;
				margin:0 5px;
				opacity: .5
			}
		</style>
	</head>

	<body>
		<div id="container">
			<ul id="img">
				<li><img src="https://imgsa.baidu.com/news/crop%3D3%2C1%2C751%2C388/sign=4c48ab194036acaf4dafccbc41eaa121/a044ad345982b2b75705d1e43aadcbef76099b7c.jpg" /></li>
				<li><img src="https://imgsa.baidu.com/news/q%3D100/sign=ab1a75dbac86c9170e035639f93c70c6/c995d143ad4bd1134d20261151afa40f4bfb0527.jpg" /></li>
				<li><img src="https://imgsa.baidu.com/news/q%3D100/sign=99b55a13b1a1cd1103b676208912c8b0/aa64034f78f0f736ceaaf2220155b319ebc413b8.jpg" /></li>
				<li><img src="https://imgsa.baidu.com/news/q%3D100/sign=bed91ffdfb1f3a295cc8d1cea924bce3/cc11728b4710b912fa7148ddc8fdfc0392452264.jpg" /></li>
				<li><img src="https://imgsa.baidu.com/news/q%3D100/sign=ce664d9bdf3f8794d5ff4c2ee21b0ead/8326cffc1e178a82e522d183fd03738da977e8f3.jpg" /></li>
				<li><img src="https://imgsa.baidu.com/news/crop%3D3%2C1%2C751%2C388/sign=4c48ab194036acaf4dafccbc41eaa121/a044ad345982b2b75705d1e43aadcbef76099b7c.jpg" /></li>
				<li><img src="https://imgsa.baidu.com/news/q%3D100/sign=ab1a75dbac86c9170e035639f93c70c6/c995d143ad4bd1134d20261151afa40f4bfb0527.jpg" /></li>
			</ul>
			<p id="prev">&lt;</p>
			<p id="next">&gt;</p>

			<ul id="change">
				<li data="1"></li>
				<li data="2"></li>
				<li data="3"></li>
				<li data="4"></li>
				<li data="5"></li>
			</ul>

		</div>
		<button onclick="stop()">暂停</button>
		<script>
			var u = document.querySelector("#img")
			var u2 = document.querySelector("#change")
			var lis =u2.children
			console.log(lis)
			var toleft = -480
			var index
			var timer = setInterval(function() {
				u.style.left = toleft + "px"
				toleft -= 10
				
				index=Math.floor(toleft/-480)
//				console.log(index)
				if(index>lis.length-1){
					index=0
				}
				for(var i=0;i<lis.length;i++){
					lis[i].style.backgroundColor="#fff"
				}
				lis[index].style.backgroundColor="#000"
//				console.log(u.style.left)
				if(toleft <= -2880) {
					toleft = -480
					console.log("到头")
				} else {

				}
				if(toleft > -480) {
					toleft = -2400
				}
			}, 100)

			function stop() {
				clearInterval(timer)
			}

			var toprev = function() {

				toleft += 480
				u.style.left = toleft + "px"

			}
			var tonext = function() {
				toleft -= 480
				u.style.left = toleft + "px"

			}
			prev.addEventListener("click", toprev)
			next.addEventListener("click", tonext)
			
			u2.onmousedown=function(e){
				var node = e.target.getAttribute("data")
				console.log(node)
				
				toleft=-480*node
				u.style.left = toleft + "px"
				
			}
		</script>

	</body>

</html>
